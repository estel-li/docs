---
title: Kali 安装 GVM
description: 在 Kali 上安装 GVM
published: undefined
img: https://lijue.net/images/default-blog.jpg
date: 2025-08-08 00:00:00.000Z
---



### 配置安装好 Kali
![image.png](https://img.jiwei.xin/20250806115946725.png)
```bash[.shell]
# 安装 gvm
sudo apt install gvm -y
# 执行配置脚本
sudo gvm-setup
```

### 安装过程中 copy admin 的密码
![image.png](https://img.jiwei.xin/20250806120225751.png)

根据提示运行安装检测命令
```bash[.shell]
sudo gvm-check-setup
```

报错了.

```bash[.shell]
└─**$** sudo gvm-check-setup
[sudo] estel 的密码：
gvm-check-setup 25.04.0
 This script is provided and maintained by Debian and Kali.
  Test completeness and readiness of GVM-25.04.0
Step 1: Checking OpenVAS (Scanner)...
        OK: OpenVAS Scanner is present in version 23.20.1.
        OK: Notus Scanner is present in version 22.6.5.
        OK: Server CA Certificate is present as /var/lib/gvm/CA/servercert.pem.
Checking permissions of /var/lib/openvas/gnupg/*
        OK: _gvm owns all files in /var/lib/openvas/gnupg

        OK: redis-server is present.
        OK: scanner (db_address setting) is configured properly using the redis-server socket: /var/run/redis-openvas/redis-server.sock
        OK: the mqtt_server_uri is defined in /etc/openvas/openvas.conf
        OK: _gvm owns all files in /var/lib/openvas/plugins
        OK: NVT collection in /var/lib/openvas/plugins contains 94316 NVTs.
        OK: The notus directory /var/lib/notus/products contains 502 NVTs.
Checking that the obsolete redis database has been removed
Could not connect to Redis at /var/run/redis-openvas/redis-server.sock: No such file or directory
        OK: No old Redis DB
        Starting ospd-openvas service
        Waiting for ospd-openvas service
        OK: ospd-openvas service is active.
        OK: ospd-OpenVAS is present in version 22.9.0.
Step 2: Checking GVMD Manager ...
        OK: GVM Manager (gvmd) is present in version 26.0.0.
Step 3: Checking Certificates ...
        OK: GVM client certificate is valid and present as /var/lib/gvm/CA/clientcert.pem.
        OK: Your GVM certificate infrastructure passed validation.
Step 4: Checking data ...
        ERROR: SCAP DATA are missing.
        FIX: Run the SCAP synchronization script greenbone-feed-sync.
        sudo greenbone-feed-sync --type scap.
 ERROR: Your GVM-25.04.0 installation is not yet complete!
Please follow the instructions marked with FIX above and run this
script again.

 IMPORTANT NOTE: this script is provided and maintained by Debian and Kali.
 If you find any issue in this script, please report it directly to Debian or Kali
```

标准漏洞/数据库这些数据在国外
给路由器施加魔法,然后重新运行,安静等待 DownLoading............
```bash[.shell]
sudo greenbone-feed-sync --type scap
```

下载好后再次运行检测命令,一起无误后,访问 127.0.0.1:9293 即可
等等...我的 Kali 是安装在其他设备里的,如何通过局域网访问?

```bash[.shell]
sudo nano /lib/systemd/system/greenbone-security-assistant.service
```

```bash[.shell]
# 修改下面的 --listen 127.0.0.1 为 --listen 0.0.0.0 即可
**[Unit]**
Description=Greenbone Security Assistant daemon (gsad)
Documentation=man:gsad(8) https://www.greenbone.net
After=network.target gvmd.service
Wants=gvmd.service

**[Service]**
Type=exec
User=_gvm
Group=_gvm
RuntimeDirectory=gsad
RuntimeDirectoryMode=2775
PIDFile=/run/gsad/gsad.pid
ExecStart=/usr/sbin/gsad --foreground --listen 127.0.0.1 --port 9392
Restart=always
TimeoutStopSec=10

**[Install]**
WantedBy=multi-user.target
Alias=greenbone-security-assistant.service
```

```bash[.shell]
# 重新开始服务
sudo gvm-start
```

随后等待程序自动更新提要状态,需要时间非常久.建议释放魔法.
如果自动更新失败,可以手动更新:

```bash[.shell]
sudo greenbone-feed-sync
```

### END
至此安装完毕.
